class VulnElement {
  String text;

  VulnElement({required this.text});
}

enum VulnColor {
  red,
  yellow,
  green,
}

class VulnQuestion extends VulnElement {
  double val;
  late VulnColor color;
  VulnQuestion(this.val, this.color, text) : super(text: text);
  // shorthand constructor
  VulnQuestion.sh(this.val, int color, text) : super(text: text) {
    this.color = VulnColor.values[color.clamp(0, VulnColor.values.length)];
  }
}

class VulnHeading extends VulnElement {
  bool big;
  VulnHeading(this.big, text) : super(text: text);
}

final List<VulnElement> possibleLifeThreatening = [
  // Siting Issues
  VulnHeading(true, "Siting Issues"),
  VulnQuestion.sh(0, 0, "The building is built on hill slopes that can slide."),
  VulnQuestion.sh(0, 0, "The building is built on river terraces that can slide/creep."),
  VulnQuestion.sh(0, 0,
      "The building is built on hill slopes /adjacent to hill slopes (even though on flat ground), but vulnerable to falling debris from the hill top."),

  // Soil and Foundation Condition
  VulnHeading(true, "Soil and Foundation Conditions"),
  VulnQuestion.sh(0, 0, "The soil underneath the building is liquefiable."),
  VulnQuestion.sh(0, 0,
      "The soil in the area adjoining the site is liquefiable and can flow laterally to move the soil from underneath the building."),
];

List<VulnElement> getFormVulnElements(List<VulnElement> possible, String mask) {
  List<VulnElement> res = [];
  for (int bit = 0; bit < possible.length; bit++) {
    if (mask[bit] == "1") {
      res.add(possible[bit]);
    }
  }
  return res;
}

double isLifeThreatening(List<bool> checks, String mask) {
  List<VulnElement> elements = getFormVulnElements(possibleLifeThreatening, mask);
  double res = 0;
  return res;
}
